<!DOCTYPE html>
<html>
<head>
    <link href="assets/css/pickupDetails.css" rel="stylesheet">
</head>
<body>

<section class="login-section" style="background-color: #f8f9fb;padding-top: 30px !important;padding-bottom: 30px !important;">
    <div class="auto-container">
        <div class="login-box">
            <!-- Title Box -->
            <div class="title-box">
                <h2 style="color: #56ad38;">REQUEST FOR PICKUP</h2>
                <div class="text" style="font-weight: bold;">Type your mobile number and select Pincode</div>
            </div>
            <!-- Login Form -->
            <div class="login-form-box">
                <form method="post" action="#" id="step_1" class="contact-form" novalidate="novalidate">
                    <div class="form-group">
                        <label>Pincode <sup>*</sup></label>
                        <select class="form-group" name="pincode" id="pincode" required="">
                            <option value="">Please Select Pincode</option>
                            <!-- Options omitted for brevity -->
                            <option value="380001">380001</option>
                            <option value="380002">380002</option>
                            <option value="380004">380004</option>
                            <option value="380005">380005</option>
                            <option value="380006">380006</option>
                            <option value="380007">380007</option>
                            <option value="380008">380008</option>
                            <option value="380009">380009</option>
                            <option value="380013">380013</option>
                            <option value="380014">380014</option>
                            <option value="380015">380015</option>
                            <option value="380016">380016</option>
                            <option value="380018">380018</option>
                            <option value="380019">380019</option>
                            <option value="380021">380021</option>
                            <option value="380022">380022</option>
                            <option value="380023">380023</option>
                            <option value="380024">380024</option>
                            <option value="380026">380026</option>
                            <option value="380027">380027</option>
                            <option value="380028">380028</option>
                            <option value="380050">380050</option>
                            <option value="380051">380051</option>
                            <option value="380052">380052</option>
                            <option value="380054">380054</option>
                            <option value="380055">380055</option>
                            <option value="380058">380058</option>
                            <option value="380059">380059</option>
                            <option value="380060">380060</option>
                            <option value="380061">380061</option>
                            <option value="380063">380063</option>
                            <option value="382120">382120</option>
                            <option value="382213">382213</option>
                            <option value="382330">382330</option>
                            <option value="382340">382340</option>
                            <option value="382345">382345</option>
                            <option value="382350">382350</option>
                            <option value="382405">382405</option>
                            <option value="382415">382415</option>
                            <option value="382418">382418</option>
                            <option value="382424">382424</option>
                            <option value="382427">382427</option>
                            <option value="382430">382430</option>
                            <option value="382440">382440</option>
                            <option value="382443">382443</option>
                            <option value="382445">382445</option>
                            <option value="382449">382449</option>
                            <option value="382450">382450</option>
                            <option value="382465">382465</option>
                            <option value="382470">382470</option>
                            <option value="382475">382475</option>
                            <option value="382480">382480</option>
                            <option value="382481">382481</option>
                            <option value="382421">382421</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Mobile Number <sup>*</sup></label>
                        <input type="text" name="mobile_number" id="mobile_number" minlength="10" maxlength="10" value="" placeholder="Enter your mobile number" required="true" onkeyup="if (/\D/g.test(this.value)) this.value = this.value.replace(/\D/g,'')">
                    </div>
                    <div class="form-group">
                        <label>Pickup Date <sup>*</sup></label>
                        <input type="date" name="pickup_date" id="pickup_date" minlength="10" maxlength="10" value="" placeholder="Enter your preferred date" required="true" onkeyup="if (/\D/g.test(this.value)) this.value = this.value.replace(/\D/g,'')">
                    </div>
                    <div class="form-group">
                        <label> Pickup Time <sup>*</sup></label>
                        <input type="time" name="pickup_time" id="pickup_time" minlength="10" maxlength="10" value="" placeholder="Enter your preferred time" required="true" onkeyup="if (/\D/g.test(this.value)) this.value = this.value.replace(/\D/g,'')">
                    </div>
                    <div class="form-group text-center">
                        <label required="true">Is the pickup from a household or industry? <sup>*</sup> </label>
                        <select name="pickup_type" id="pickup_type">
                            <option value="household">Household</option>
                            <option value="industry">Industry</option>
                        </select>
                    </div>
                    <div class="form-group text-center" id="address_fields">
                        <label for="address">Address <sup>*</sup> </label>
                        <input type="text" name="address" id="address" required="true">
                    </div>
                    <div class="form-group text-center" id="bhangar_fields">
                        <label for="bhangar_type">Type of Bhangar <sup>*</sup> </label>
                        <input type="text" name="bhangar_type" id="bhangar_type" placeholder="Enter type of bhangar" required="true">
                    </div>
                    <div class="form-group text-center" id="industry_fields" style="display: none;">
                        <label for="industry_type" required="true">Type of Industry <sup>*</sup> </label>
                        <select name="industry_type" id="industry_type">
                            <option value="medical">Medical</option>
                            <option value="school_college">School/College</option>
                            <option value="manufacturing">Manufacturing Industry</option>
                            <option value="society">Society</option>
                            <option value="other">Other</option>
                        </select>
                        <label for="industry_specific" id="industry_specific_label" style="display: none;" required="true">Specify Industry Type (if other) <sup>*</sup></label>
                        <input type="text" name="industry_specific" id="industry_specific" style="display: none;">
                    </div>
                    <div class="form-group text-center">
                        <button class="theme-btn btn-style-eight" style="background-color: #56ad38; color: white;"><span class="txt">Continue <i class="flaticon-right-arrow-3"></i></span></button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</section>

<script>
    document.getElementById('pickup_type').addEventListener('change', function() {
        var pickupType = this.value;
        if (pickupType === 'industry') {
            document.getElementById('industry_fields').style.display = 'block';
        } else {
            document.getElementById('industry_fields').style.display = 'none';
        }
        document.getElementById('address_fields').style.display = 'block';
        document.getElementById('bhangar_fields').style.display = 'block';
    });

    document.getElementById('industry_type').addEventListener('change', function() {
        var industryType = this.value;
        if (industryType === 'other') {
            document.getElementById('industry_specific_label').style.display = 'block';
            document.getElementById('industry_specific').style.display = 'block';
        } else {
            document.getElementById('industry_specific_label').style.display = 'none';
            document.getElementById('industry_specific').style.display = 'none';
        }
    });
</script>

<!-- Your HTML content -->

<script>
    document.addEventListener('DOMContentLoaded', function() {
      const continueButton = document.querySelector('.theme-btn.btn-style-eight');
    
      continueButton.addEventListener('click', function(event) {
        event.preventDefault(); // Prevent form submission
    
        // Fetch form data
        const pincode = document.getElementById('pincode').value;
        const mobileNumber = document.getElementById('mobile_number').value;
        const pickupDate = document.getElementById('pickup_date').value;
        const pickupTime = document.getElementById('pickup_time').value;
        const pickupType = document.getElementById('pickup_type').value;
        const address = document.getElementById('address').value;
        const bhangarType = document.getElementById('bhangar_type').value;
        const industryType = document.getElementById('industry_type').value;
        const industrySpecific = document.getElementById('industry_specific').value;
    
        // Construct form data
        const formData = new FormData();
        formData.append('pincode', pincode);
        formData.append('mobile_number', mobileNumber);
        formData.append('pickup_date', pickupDate);
        formData.append('pickup_time', pickupTime);
        formData.append('pickup_type', pickupType);
        formData.append('address', address);
        formData.append('bhangar_type', bhangarType);
        formData.append('industry_type', industryType);
        formData.append('industry_specific', industrySpecific);
    
        // Make an AJAX request to store the form data
        fetch('pickupdetailsConnect.php', {
          method: 'POST',
          body: formData
        })
        .then(response => response.text())
        .then(data => {
          alert(data); // Show alert with server response
          if (data.trim() === 'Data stored successfully') {
            window.location.href = 'confirmation.html'; // Redirect to confirmation page if data is stored successfully
          }
        })
        .catch(error => {
          console.error('Error:', error);
          alert('An error occurred. Please try again.');
        });
      });
    });
</script>
    

</body>
</html>
